\hypertarget{classsteam__connection}{
\section{steam\_\-connection Class Reference}
\label{classsteam__connection}\index{steam\_\-connection@{steam\_\-connection}}
}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classsteam__connection_a7127f9905766ba1af6b7779f76b3f1b7}{
{\bfseries get\_\-id} ()}
\label{classsteam__connection_a7127f9905766ba1af6b7779f76b3f1b7}

\item 
\hyperlink{classsteam__connection_a7c64a3d5de5e152c0750794e55132797}{read\_\-socket} (\$pLength)
\item 
\hyperlink{classsteam__connection_a48236ca8955da259d116462d7503e2ef}{disconnect} ()
\item 
\hyperlink{classsteam__connection_a616801b2735c0d8175ef2b678c0f5611}{is\_\-connected} ()
\item 
\hyperlink{classsteam__connection_a3035355ebd7b159628d829a9fc3fbbbf}{get\_\-socket\_\-status} ()
\item 
\hyperlink{classsteam__connection_a00bfaa24af7184d5901b88e0db7f2360}{reconnect} ()
\item 
\hyperlink{classsteam__connection_a7c8f25bb84a2e450bc0bca274575a2c5}{login} (\$pLogin, \$pPassword, \$relogin=FALSE)
\item 
\hyperlink{classsteam__connection_acc96563a6e045d998adfff203758e5d1}{command} (\$pRequest)
\item 
\hyperlink{classsteam__connection_a33114a4a96cbd4ff55c5629f394ca937}{send\_\-command} (array \$pCommandBuffer)
\item 
\hyperlink{classsteam__connection_a20cf4dc120f29b32b23e278971a2f30f}{buffer\_\-clear} ()
\item 
\hyperlink{classsteam__connection_a1a03e126a5cd5ee2bd9876c175fd01fc}{buffer\_\-flush} ()
\item 
\hyperlink{classsteam__connection_af953eaaab5340c7c4b9effdb7415f68b}{buffer\_\-attributes\_\-request} (\$pObject, \$pAttributes, \$pSourceObjectID=0)
\item 
\hyperlink{classsteam__connection_ab99ef754527b421bbfa3df9abfc780f4}{get\_\-transaction\_\-id} ()
\item 
\hyperlink{classsteam__connection_a44bb02d61c1b3a2b8d9f7b82b8211460}{get\_\-module} (\$pModule)
\item 
\hyperlink{classsteam__connection_ad94daf8e97d57bd388beaa50b2d6b0df}{get\_\-factory} (\$pType)
\item 
\hyperlink{classsteam__connection_ac0e324d3b310de75ca39fdcd3451db20}{predefined\_\-command} (\$pObject, \$pMethod, \$pArgs, \$pBuffer)
\item 
\hypertarget{classsteam__connection_a3e5176a80d42d0836645483df4b678f4}{
{\bfseries get\_\-version} ()}
\label{classsteam__connection_a3e5176a80d42d0836645483df4b678f4}

\item 
\hypertarget{classsteam__connection_ad420df8005cfac69368beb4677a10c06}{
{\bfseries get\_\-current\_\-steam\_\-user} ()}
\label{classsteam__connection_ad420df8005cfac69368beb4677a10c06}

\item 
\hypertarget{classsteam__connection_ad86c4ff015efd28ebf742b712e9de3a9}{
{\bfseries get\_\-login\_\-status} ()}
\label{classsteam__connection_ad86c4ff015efd28ebf742b712e9de3a9}

\item 
\hypertarget{classsteam__connection_aa5376bb97df0342140ec9f24c71d21da}{
{\bfseries get\_\-sentrequests} ()}
\label{classsteam__connection_aa5376bb97df0342140ec9f24c71d21da}

\item 
\hypertarget{classsteam__connection_ad1d074984e5a51ab747c515362ab1f6d}{
{\bfseries get\_\-login\_\-user\_\-name} ()}
\label{classsteam__connection_ad1d074984e5a51ab747c515362ab1f6d}

\item 
\hyperlink{classsteam__connection_a3706c609263aa83dbc071b0429269436}{exception} (\$pCode, \$pDetails=\char`\"{}\char`\"{}, \$allow\_\-backtrace=TRUE)
\item 
\hypertarget{classsteam__connection_ad081dbcbf44e122f032c237fb6e32512}{
{\bfseries get\_\-login\_\-data} ()}
\label{classsteam__connection_ad081dbcbf44e122f032c237fb6e32512}

\item 
\hypertarget{classsteam__connection_ab1d1f6ad3b7b9e8eb1d52aa2d0297292}{
{\bfseries get\_\-server\_\-version} ()}
\label{classsteam__connection_ab1d1f6ad3b7b9e8eb1d52aa2d0297292}

\item 
\hyperlink{classsteam__connection_ab2d21bad17c41ed4612db7d9254f0021}{get\_\-config\_\-value} (\$pKey)
\item 
\hyperlink{classsteam__connection_ac1cc1f638100227e3c83e45010c0808a}{get\_\-steam\_\-group} ()
\item 
\hyperlink{classsteam__connection_ac9efb0d6b5cfec747ac507add87cb6b5}{list\_\-modules} ()
\item 
\hyperlink{classsteam__connection_a888ccf2466c74dbb69f44006853c7983}{get\_\-database} ()
\item 
\hyperlink{classsteam__connection_a67e488e7c3e677f132a01c7ed0830e4e}{get\_\-pike\_\-version} ()
\item 
\hypertarget{classsteam__connection_a48e7d5e184344284fb37d42e71341f05}{
{\bfseries get\_\-last\_\-reboot} ()}
\label{classsteam__connection_a48e7d5e184344284fb37d42e71341f05}

\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classsteam__connection_a6ff396484aadbadbf9aee2fe6c65334b}{
static {\bfseries get\_\-instance} (\$id)}
\label{classsteam__connection_a6ff396484aadbadbf9aee2fe6c65334b}

\item 
\hypertarget{classsteam__connection_a7c114abf74270d977464143e06cab52c}{
static {\bfseries init} (\$server\_\-ip, \$server\_\-port, \$login\_\-name, \$login\_\-pw)}
\label{classsteam__connection_a7c114abf74270d977464143e06cab52c}

\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classsteam__connection_ab33d74e636885f3a2a04459649e68c4d}{init\_\-variables} ()
\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\hypertarget{classsteam__connection_ac03e84bd9e67cef9202b7f451425561b}{
{\bfseries \$socket}}
\label{classsteam__connection_ac03e84bd9e67cef9202b7f451425561b}

\item 
\hypertarget{classsteam__connection_add41a446d2ab31d98233f454e0d4b9cd}{
{\bfseries \$socket\_\-status}}
\label{classsteam__connection_add41a446d2ab31d98233f454e0d4b9cd}

\item 
\hypertarget{classsteam__connection_a7150f7083a4f6b48b81aa9489eea4090}{
{\bfseries \$steam\_\-server\_\-ip}}
\label{classsteam__connection_a7150f7083a4f6b48b81aa9489eea4090}

\item 
\hypertarget{classsteam__connection_a10a5a13e98d9f2ce37be1f31e56c334a}{
{\bfseries \$steam\_\-server\_\-port}}
\label{classsteam__connection_a10a5a13e98d9f2ce37be1f31e56c334a}

\item 
\hypertarget{classsteam__connection_aeef49bd6714ce8b4ed3b2b498879fa40}{
{\bfseries \$login\_\-data}}
\label{classsteam__connection_aeef49bd6714ce8b4ed3b2b498879fa40}

\item 
\hypertarget{classsteam__connection_ad2c4518f15daa8724745dcfe30d1ecf6}{
{\bfseries \$current\_\-steam\_\-user}}
\label{classsteam__connection_ad2c4518f15daa8724745dcfe30d1ecf6}

\item 
\hypertarget{classsteam__connection_a93d3d7fc0338abc47e8fc2ec484e517e}{
{\bfseries \$login\_\-user\_\-name}}
\label{classsteam__connection_a93d3d7fc0338abc47e8fc2ec484e517e}

\item 
\hypertarget{classsteam__connection_aa6eb424270bd71cb5c729c29cb101969}{
{\bfseries \$login\_\-status}}
\label{classsteam__connection_aa6eb424270bd71cb5c729c29cb101969}

\item 
\hypertarget{classsteam__connection_af07bf75514b66e943bd89c3e13773a95}{
{\bfseries \$request\_\-buffer}}
\label{classsteam__connection_af07bf75514b66e943bd89c3e13773a95}

\item 
\hypertarget{classsteam__connection_a624aa3289b4ee7857f48e4545f27af6c}{
{\bfseries \$object\_\-buffer}}
\label{classsteam__connection_a624aa3289b4ee7857f48e4545f27af6c}

\item 
\hypertarget{classsteam__connection_a80de2be369ea851d340334f1b55ba9a1}{
{\bfseries \$transactionid}}
\label{classsteam__connection_a80de2be369ea851d340334f1b55ba9a1}

\item 
\hypertarget{classsteam__connection_ae1c984e8359e8fd177c0959f7ab06d49}{
{\bfseries \$sentrequests}}
\label{classsteam__connection_ae1c984e8359e8fd177c0959f7ab06d49}

\item 
\hypertarget{classsteam__connection_ab3141b17fd2be1e4d8845969abe5a038}{
{\bfseries \$login\_\-arguments}}
\label{classsteam__connection_ab3141b17fd2be1e4d8845969abe5a038}

\item 
\hypertarget{classsteam__connection_a763ff310a5c9bfacc08b4434a5189fa9}{
{\bfseries \$root\_\-room}}
\label{classsteam__connection_a763ff310a5c9bfacc08b4434a5189fa9}

\item 
\hypertarget{classsteam__connection_a1e477544d97be1333b19f781418b29eb}{
{\bfseries \$last\_\-reboot}}
\label{classsteam__connection_a1e477544d97be1333b19f781418b29eb}

\item 
\hypertarget{classsteam__connection_a82f2bd315eae5f884c851da87ff8d630}{
{\bfseries \$pike\_\-version}}
\label{classsteam__connection_a82f2bd315eae5f884c851da87ff8d630}

\item 
\hypertarget{classsteam__connection_a98ddd4b8f0dfb2d7635a8e4df1e1e382}{
{\bfseries \$database}}
\label{classsteam__connection_a98ddd4b8f0dfb2d7635a8e4df1e1e382}

\item 
\hypertarget{classsteam__connection_a0b1b0aa2bf1841d11097cc3913fdf6ae}{
{\bfseries \$steam\_\-group}}
\label{classsteam__connection_a0b1b0aa2bf1841d11097cc3913fdf6ae}

\item 
\hypertarget{classsteam__connection_ab699da1745b5065a8743ddf207f73bb8}{
{\bfseries \$server\_\-version}}
\label{classsteam__connection_ab699da1745b5065a8743ddf207f73bb8}

\item 
\hypertarget{classsteam__connection_a39a33fd85c761972e1c947431b5b6656}{
{\bfseries \$server\_\-config}}
\label{classsteam__connection_a39a33fd85c761972e1c947431b5b6656}

\end{DoxyCompactItemize}


\subsection{Member Function Documentation}
\hypertarget{classsteam__connection_af953eaaab5340c7c4b9effdb7415f68b}{
\index{steam\_\-connection@{steam\_\-connection}!buffer\_\-attributes\_\-request@{buffer\_\-attributes\_\-request}}
\index{buffer\_\-attributes\_\-request@{buffer\_\-attributes\_\-request}!steam_connection@{steam\_\-connection}}
\subsubsection[{buffer\_\-attributes\_\-request}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::buffer\_\-attributes\_\-request (
\begin{DoxyParamCaption}
\item[{\$}]{ pObject, }
\item[{\$}]{ pAttributes, }
\item[{\$}]{ pSourceObjectID = {\ttfamily 0}}
\end{DoxyParamCaption}
)}}
\label{classsteam__connection_af953eaaab5340c7c4b9effdb7415f68b}
function buffer\_\-attributes\_\-request:


\begin{DoxyParams}[1]{Parameters}
\hyperlink{classsteam__object}{steam\_\-object} & {\em \$pObject} & object with unknown attributes \\
\hline
mixed & {\em \$pAttributes} & List of attributes'names \\
\hline
\end{DoxyParams}
\hypertarget{classsteam__connection_a20cf4dc120f29b32b23e278971a2f30f}{
\index{steam\_\-connection@{steam\_\-connection}!buffer\_\-clear@{buffer\_\-clear}}
\index{buffer\_\-clear@{buffer\_\-clear}!steam_connection@{steam\_\-connection}}
\subsubsection[{buffer\_\-clear}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::buffer\_\-clear (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classsteam__connection_a20cf4dc120f29b32b23e278971a2f30f}
clears the command queue

The function clears deletes all buffered commands from the command buffer \hypertarget{classsteam__connection_a1a03e126a5cd5ee2bd9876c175fd01fc}{
\index{steam\_\-connection@{steam\_\-connection}!buffer\_\-flush@{buffer\_\-flush}}
\index{buffer\_\-flush@{buffer\_\-flush}!steam_connection@{steam\_\-connection}}
\subsubsection[{buffer\_\-flush}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::buffer\_\-flush (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classsteam__connection_a1a03e126a5cd5ee2bd9876c175fd01fc}
Sends the whole bundle of buffered commands to sTeam

The function sends the command buffer to the sTeam-\/server, receives their answers and returns them as an array of \hyperlink{classsteam__request}{steam\_\-request} objects.

\begin{DoxyReturn}{Returns}
mixed array of \hyperlink{classsteam__request}{steam\_\-request} 
\end{DoxyReturn}
\hypertarget{classsteam__connection_acc96563a6e045d998adfff203758e5d1}{
\index{steam\_\-connection@{steam\_\-connection}!command@{command}}
\index{command@{command}!steam_connection@{steam\_\-connection}}
\subsubsection[{command}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::command (
\begin{DoxyParamCaption}
\item[{\$}]{ pRequest}
\end{DoxyParamCaption}
)}}
\label{classsteam__connection_acc96563a6e045d998adfff203758e5d1}
function command:

Manages the transportation of commands through COAL-\/protocol

This function sends a command throught an established socket to the sTeam-\/server and returns its answer. The command and the answer is encapsulated in a steam\_\-request-\/object. Look there for further information.


\begin{DoxyParams}[1]{Parameters}
\hyperlink{classsteam__request}{steam\_\-request} & {\em \$pRequest} & An encoded question \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\hyperlink{classsteam__request}{steam\_\-request} Returns the question together with the answer got back from sTeam-\/Server 
\end{DoxyReturn}
\hypertarget{classsteam__connection_a48236ca8955da259d116462d7503e2ef}{
\index{steam\_\-connection@{steam\_\-connection}!disconnect@{disconnect}}
\index{disconnect@{disconnect}!steam_connection@{steam\_\-connection}}
\subsubsection[{disconnect}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::disconnect (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classsteam__connection_a48236ca8955da259d116462d7503e2ef}
function disconnect:

Shuts down the socket connection

Uses fclose on established socket and sets the socket\_\-status to FALSE. \hypertarget{classsteam__connection_a3706c609263aa83dbc071b0429269436}{
\index{steam\_\-connection@{steam\_\-connection}!exception@{exception}}
\index{exception@{exception}!steam_connection@{steam\_\-connection}}
\subsubsection[{exception}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::exception (
\begin{DoxyParamCaption}
\item[{\$}]{ pCode, }
\item[{\$}]{ pDetails = {\ttfamily \char`\"{}\char`\"{}}, }
\item[{\$}]{ allow\_\-backtrace = {\ttfamily TRUE}}
\end{DoxyParamCaption}
)}}
\label{classsteam__connection_a3706c609263aa83dbc071b0429269436}
function exception:

Returns new \hyperlink{classsteam__exception}{steam\_\-exception} regarding to the given code

Table of error codes: 100 -\/ server unknown 110 -\/ could not connect to server 120 -\/ no socket to steam-\/server 150 -\/ could not reconnect 200 -\/ no result from steam


\begin{DoxyParams}[1]{Parameters}
integer & {\em \$pCode} & errorcode \\
\hline
Boolean & {\em \$allow\_\-backtrace} & Default is TRUE. Deliver FALSE if the backtrace may contain sensible data like username and password \\
\hline
string & {\em \$pDetails} & Some details about the error (optional) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\hyperlink{classsteam__exception}{steam\_\-exception} Exception 
\end{DoxyReturn}
\hypertarget{classsteam__connection_ab2d21bad17c41ed4612db7d9254f0021}{
\index{steam\_\-connection@{steam\_\-connection}!get\_\-config\_\-value@{get\_\-config\_\-value}}
\index{get\_\-config\_\-value@{get\_\-config\_\-value}!steam_connection@{steam\_\-connection}}
\subsubsection[{get\_\-config\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::get\_\-config\_\-value (
\begin{DoxyParamCaption}
\item[{\$}]{ pKey}
\end{DoxyParamCaption}
)}}
\label{classsteam__connection_ab2d21bad17c41ed4612db7d9254f0021}
function get\_\-config\_\-value:


\begin{DoxyParams}{Parameters}
{\em \$pKey} & the key of the value to get\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\hypertarget{classsteam__connection_a888ccf2466c74dbb69f44006853c7983}{
\index{steam\_\-connection@{steam\_\-connection}!get\_\-database@{get\_\-database}}
\index{get\_\-database@{get\_\-database}!steam_connection@{steam\_\-connection}}
\subsubsection[{get\_\-database}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::get\_\-database (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classsteam__connection_a888ccf2466c74dbb69f44006853c7983}
function get\_\-database:

returns the database handler of the server

\begin{DoxyReturn}{Returns}
\hyperlink{classsteam__object}{steam\_\-object} the database handler 
\end{DoxyReturn}
\hypertarget{classsteam__connection_ad94daf8e97d57bd388beaa50b2d6b0df}{
\index{steam\_\-connection@{steam\_\-connection}!get\_\-factory@{get\_\-factory}}
\index{get\_\-factory@{get\_\-factory}!steam_connection@{steam\_\-connection}}
\subsubsection[{get\_\-factory}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::get\_\-factory (
\begin{DoxyParamCaption}
\item[{\$}]{ pType}
\end{DoxyParamCaption}
)}}
\label{classsteam__connection_ad94daf8e97d57bd388beaa50b2d6b0df}
function get\_\-factory:

Returns server factory


\begin{DoxyParams}[1]{Parameters}
string & {\em \$pType} & Factory Type (e.g. CLASS\_\-USER or CLASS\_\-DOCUMENT) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\hyperlink{classsteam__object}{steam\_\-object} 
\end{DoxyReturn}
\hypertarget{classsteam__connection_a44bb02d61c1b3a2b8d9f7b82b8211460}{
\index{steam\_\-connection@{steam\_\-connection}!get\_\-module@{get\_\-module}}
\index{get\_\-module@{get\_\-module}!steam_connection@{steam\_\-connection}}
\subsubsection[{get\_\-module}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::get\_\-module (
\begin{DoxyParamCaption}
\item[{\$}]{ pModule}
\end{DoxyParamCaption}
)}}
\label{classsteam__connection_a44bb02d61c1b3a2b8d9f7b82b8211460}
function get\_\-module:

Returns server module


\begin{DoxyParams}[1]{Parameters}
string & {\em \$pServerModule} & Name of the module \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\hyperlink{classsteam__object}{steam\_\-object} 
\end{DoxyReturn}
\hypertarget{classsteam__connection_a67e488e7c3e677f132a01c7ed0830e4e}{
\index{steam\_\-connection@{steam\_\-connection}!get\_\-pike\_\-version@{get\_\-pike\_\-version}}
\index{get\_\-pike\_\-version@{get\_\-pike\_\-version}!steam_connection@{steam\_\-connection}}
\subsubsection[{get\_\-pike\_\-version}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::get\_\-pike\_\-version (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classsteam__connection_a67e488e7c3e677f132a01c7ed0830e4e}
function get\_\-pike\_\-version:

returns the pike version of the server

\begin{DoxyReturn}{Returns}
string pike version 
\end{DoxyReturn}
\hypertarget{classsteam__connection_a3035355ebd7b159628d829a9fc3fbbbf}{
\index{steam\_\-connection@{steam\_\-connection}!get\_\-socket\_\-status@{get\_\-socket\_\-status}}
\index{get\_\-socket\_\-status@{get\_\-socket\_\-status}!steam_connection@{steam\_\-connection}}
\subsubsection[{get\_\-socket\_\-status}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::get\_\-socket\_\-status (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classsteam__connection_a3035355ebd7b159628d829a9fc3fbbbf}
function get\_\-socket\_\-status:

Returns whether the connection is steablished or not.

\begin{DoxyReturn}{Returns}
boolean 
\end{DoxyReturn}
\hypertarget{classsteam__connection_ac1cc1f638100227e3c83e45010c0808a}{
\index{steam\_\-connection@{steam\_\-connection}!get\_\-steam\_\-group@{get\_\-steam\_\-group}}
\index{get\_\-steam\_\-group@{get\_\-steam\_\-group}!steam_connection@{steam\_\-connection}}
\subsubsection[{get\_\-steam\_\-group}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::get\_\-steam\_\-group (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classsteam__connection_ac1cc1f638100227e3c83e45010c0808a}
function get\_\-steam\_\-group:

returns the steam group

\begin{DoxyReturn}{Returns}
\hyperlink{classsteam__group}{steam\_\-group} steam group 
\end{DoxyReturn}
\hypertarget{classsteam__connection_ab99ef754527b421bbfa3df9abfc780f4}{
\index{steam\_\-connection@{steam\_\-connection}!get\_\-transaction\_\-id@{get\_\-transaction\_\-id}}
\index{get\_\-transaction\_\-id@{get\_\-transaction\_\-id}!steam_connection@{steam\_\-connection}}
\subsubsection[{get\_\-transaction\_\-id}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::get\_\-transaction\_\-id (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classsteam__connection_ab99ef754527b421bbfa3df9abfc780f4}
function get\_\-transaction\_\-id:

increments the counter of transactions and returns the new number as an unique transaction id

\begin{DoxyReturn}{Returns}
integer unique transaction id 
\end{DoxyReturn}
\hypertarget{classsteam__connection_ab33d74e636885f3a2a04459649e68c4d}{
\index{steam\_\-connection@{steam\_\-connection}!init\_\-variables@{init\_\-variables}}
\index{init\_\-variables@{init\_\-variables}!steam_connection@{steam\_\-connection}}
\subsubsection[{init\_\-variables}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::init\_\-variables (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}protected\mbox{]}}}}
\label{classsteam__connection_ab33d74e636885f3a2a04459649e68c4d}
Initialization of \hyperlink{classsteam__connector}{steam\_\-connector}

Reset the connection, the login status and the command buffer. \hypertarget{classsteam__connection_a616801b2735c0d8175ef2b678c0f5611}{
\index{steam\_\-connection@{steam\_\-connection}!is\_\-connected@{is\_\-connected}}
\index{is\_\-connected@{is\_\-connected}!steam_connection@{steam\_\-connection}}
\subsubsection[{is\_\-connected}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::is\_\-connected (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classsteam__connection_a616801b2735c0d8175ef2b678c0f5611}
function is\_\-connected:

returns the socket status, TRUE if connector is connected to a steam server, FALSE if not

\begin{DoxyReturn}{Returns}
TRUE if connector is connected to a steam server 
\end{DoxyReturn}
\hypertarget{classsteam__connection_ac9efb0d6b5cfec747ac507add87cb6b5}{
\index{steam\_\-connection@{steam\_\-connection}!list\_\-modules@{list\_\-modules}}
\index{list\_\-modules@{list\_\-modules}!steam_connection@{steam\_\-connection}}
\subsubsection[{list\_\-modules}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::list\_\-modules (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classsteam__connection_ac9efb0d6b5cfec747ac507add87cb6b5}
function list\_\-server\_\-modules:

\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\hypertarget{classsteam__connection_a7c8f25bb84a2e450bc0bca274575a2c5}{
\index{steam\_\-connection@{steam\_\-connection}!login@{login}}
\index{login@{login}!steam_connection@{steam\_\-connection}}
\subsubsection[{login}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::login (
\begin{DoxyParamCaption}
\item[{\$}]{ pLogin, }
\item[{\$}]{ pPassword, }
\item[{\$}]{ relogin = {\ttfamily FALSE}}
\end{DoxyParamCaption}
)}}
\label{classsteam__connection_a7c8f25bb84a2e450bc0bca274575a2c5}
function login:

The login procedure

The user logs in through an established connection. Credentials are checked by sTeam. If successful, an object of type \hyperlink{classsteam__user}{steam\_\-user} is given back; otherwise a FALSE is returned.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$pLogin} & User's login name \\
\hline
string & {\em \$pPassword} & User's password \\
\hline
boolean & {\em \$relogin} & TRUE if only relogin (reduces login overhead) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\hyperlink{classsteam__user}{steam\_\-user} $|$ FALSE 
\end{DoxyReturn}


\$login\_\-arguments contains the following: 0 =$>$ user name 1 =$>$ server version 2 =$>$ last reboot 3 =$>$ last login 4 =$>$ pike version 5 =$>$ database 6 =$>$ root-\/room 7 =$>$ group-\/all 8 =$>$ map ( name-\/$>$object ) containing modules 9 =$>$ map ( int id-\/$>$factory object ) 10 =$>$ map ( config name-\/$>$config value )

\hypertarget{classsteam__connection_ac0e324d3b310de75ca39fdcd3451db20}{
\index{steam\_\-connection@{steam\_\-connection}!predefined\_\-command@{predefined\_\-command}}
\index{predefined\_\-command@{predefined\_\-command}!steam_connection@{steam\_\-connection}}
\subsubsection[{predefined\_\-command}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::predefined\_\-command (
\begin{DoxyParamCaption}
\item[{\$}]{ pObject, }
\item[{\$}]{ pMethod, }
\item[{\$}]{ pArgs, }
\item[{\$}]{ pBuffer}
\end{DoxyParamCaption}
)}}
\label{classsteam__connection_ac0e324d3b310de75ca39fdcd3451db20}
function predefined\_\-command:

Defines COAL-\/commands in a convenient way

This function translates the arguments into a COAL-\/command by means of \hyperlink{classsteam__request}{steam\_\-request}. Either it returns an instance of \hyperlink{classsteam__request}{steam\_\-request}, or -\/ depending on the buffer argument -\/ the transaction id in case of a buffered command.

{\bfseries ATTENTION: Function is needed when you want to implement new COAL-\/commands!}

Examples:

{\ttfamily  \$my\_\-workroom = \$steam\_\-connection-\/$>$predefined\_\-command( \$steam\_\-connection-\/$>$get\_\-current\_\-steam\_\-user(), \char`\"{}query\_\-attribute\char`\"{}, array( \char`\"{}USER\_\-WORKROOM\char`\"{} ), 0 ); }

{\ttfamily  \$transaction\_\-id = \$steam\_\-connection-\/$>$predefined\_\-command( \$my\_\-workroom, \char`\"{}get\_\-inventory\char`\"{}, array(), 1 ); }


\begin{DoxyParams}[1]{Parameters}
\hyperlink{classsteam__object}{steam\_\-object} & {\em \$pObject} & \\
\hline
string & {\em \$pMethod} & COAL-\/command, see sTeam-\/documentation for further informations \\
\hline
mixed & {\em \$pArgs} & Array of arguments, see sTeam-\/documentation for further informations \\
\hline
boolean & {\em \$pBuffer} & 0 = send now, 1 = buffer command and send later \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\hyperlink{classsteam__request}{steam\_\-request} $|$ integer Depending on the buffer argument either a \hyperlink{classsteam__request}{steam\_\-request} instance or a unique transaction id is given back 
\end{DoxyReturn}
\hypertarget{classsteam__connection_a7c64a3d5de5e152c0750794e55132797}{
\index{steam\_\-connection@{steam\_\-connection}!read\_\-socket@{read\_\-socket}}
\index{read\_\-socket@{read\_\-socket}!steam_connection@{steam\_\-connection}}
\subsubsection[{read\_\-socket}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::read\_\-socket (
\begin{DoxyParamCaption}
\item[{\$}]{ pLength}
\end{DoxyParamCaption}
)}}
\label{classsteam__connection_a7c64a3d5de5e152c0750794e55132797}
function read\_\-socket:


\begin{DoxyParams}{Parameters}
{\em \$pLength} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\hypertarget{classsteam__connection_a00bfaa24af7184d5901b88e0db7f2360}{
\index{steam\_\-connection@{steam\_\-connection}!reconnect@{reconnect}}
\index{reconnect@{reconnect}!steam_connection@{steam\_\-connection}}
\subsubsection[{reconnect}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::reconnect (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{classsteam__connection_a00bfaa24af7184d5901b88e0db7f2360}
function reconnect:

To reconnect the sTeam-\/server after a broken connection

If the connection was established once, the informations about server, port, user and password are stored in class-\/variables. These are used to reconnect the server. \hyperlink{classsteam__connection_a00bfaa24af7184d5901b88e0db7f2360}{reconnect()} calls connect() function.

\begin{DoxyReturn}{Returns}
socket 
\end{DoxyReturn}
\hypertarget{classsteam__connection_a33114a4a96cbd4ff55c5629f394ca937}{
\index{steam\_\-connection@{steam\_\-connection}!send\_\-command@{send\_\-command}}
\index{send\_\-command@{send\_\-command}!steam_connection@{steam\_\-connection}}
\subsubsection[{send\_\-command}]{\setlength{\rightskip}{0pt plus 5cm}steam\_\-connection::send\_\-command (
\begin{DoxyParamCaption}
\item[{array \$}]{ pCommandBuffer}
\end{DoxyParamCaption}
)}}
\label{classsteam__connection_a33114a4a96cbd4ff55c5629f394ca937}
function send\_\-command:

Pure communication function

Handles the sending-\/ and receiving-\/procedure whilst the communication process between PHP and sTeam. It uses fwrite() and fread() on the established socket.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$pCommandBuffer} & Encoded command, see steam\_\-request-\/$>$encode() \\
\hline
integer & {\em \$pCommandCounter} & Number of encoded command inside \$pCommandBuffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string Encoded answer from sTeam-\/server 
\end{DoxyReturn}


The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
/Volumes/Users/Entwicklung/php/workspace\_\-koala\_\-3/koala-\/core/classes/PHPsTeam/steam\_\-connection.class.php\end{DoxyCompactItemize}
